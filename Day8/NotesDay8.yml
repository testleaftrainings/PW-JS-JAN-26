üìë Agenda for Week 4 Day 2: Playwright locators, Handling Frames & Alerts

üéØ [Focus: Understanding playwright locators and to interact with frames, alerts and windows]  

üìÜ Date: 01 Feb. [Sunday]  

üïù Session Highlights

Recap
* Quick review of key learnings from previous sessions.  

1. Playwright's getBy Locators
* Explore getByText, getByRole, getByLabel, and more.  
* Accessibility-first Automation with getBy Methods.  
* Real-time Activity: Automating a Login Form in Salesforce Application.

2. Codegen (Test Recorder)

What is Codegen and when to use it.
Generating test scripts automatically.
Understanding generated locators and improving them.
Best practices: Using Codegen for learning, not blind copy-paste.

3. Interaction with Frames
* Understanding the concept of iframes in web applications.  
* Navigating into and interacting with elements inside frames.

4. Alerts Handling
* Understanding Playwright‚Äôs support for JavaScript alerts, prompts, and confirmations.  
* Automating acceptance or dismissal of alerts.  

5. Handling Multiple Windows / Tabs  
* Managing multiple windows or tabs in Playwright.  
* Switching between windows and tabs efficiently.  


üï° Wrap Up / Q&A  

üìù Keep your physical notebook and pen handy to sketch¬†out¬†ideas!

Playwright Locators :
--------------------

1. getByRole()
2. getByText()
3. getByLabel()
4. getByPlaceholder()
5. getByTitle()
6. getByAltText()
7. getByTestId()

--------------------------------------------------------------------------------

| Feature           | Alt-Text                   | Test ID             |
| ----------------- | -------------------------- | ------------------- |
| Used for          | Images                     | Any element         |
| Purpose           | Accessibility + automation | Only for automation |
| Written by        | UI developer               | QA + developer      |
| Changes often?    | Rarely                     | Never (ideally)     |
| Playwright method | `getByAltText()`           | `getByTestId()`     |

--------------------------------------------------------------------------------

Classroom Activity :
----------------------

Write a Playwright script to perform the following actions on the Salesforce login page:
1. Navigate to the Salesforce login page.
2. Use different Playwright locator strategies to locate the username and password fields.
3. Enter sample credentials into the username and password fields.
4. Click the login button using a Playwright locator.
5. Verify that the login was successful by checking for a specific element on the landing page.

Sample credentials :
Username:dilipkumar.rajendran@testleaf.com
Password: TestLeaf@2025

await page.getByLabel("Country").selectOption("IN");

------------------------------------------------------------------------------------------

Codegen: (Playwright Test Generator)
--------
 
Codegen is Playwright‚Äôs built-in test recorder that automatically generates test code based on your browser actions.

In simple words:

You perform actions in the browser ‚Üí Playwright writes the code for you.

npx playwright codegen https://example.com


------------------------------------------------------------------------------------------
Frames :
-------

Definition: An HTML document embedded inside another document using an <iframe> tag. Playwright allows direct interaction with elements inside frames.

Usage: Useful for automating pages that load content inside frames or nested frames.

Syntax:

Used in Modern Apllication :
-----------------------------

page.frames()-> frames() method helps to get the collection of frames that is present in a webpage.

page.frameLocator(selector) ‚Üí Locates elements inside a frame (recommended).

Used in legacy Application :
-----------------
page.frame({ name | url | index }) ‚Üí Gets the frame object to interact with.


Alerts /Dialogs:
---------------

Definition: Browser pop-ups such as alert, confirm, prompt, or beforeunload triggered by JavaScript.

Usage: Intercept and handle dialog events to read their message and accept or dismiss them.

Syntax:

page.on('dialog', async dialog => { ... }) ‚Üí Listen and handle.

await dialog.accept([promptText]) ‚Üí Accept dialog (optionally providing input for prompts).

await dialog.dismiss() ‚Üí Cancel dialog.

Event Listeners
--------------
Definition: You subscribe to an event via Playwright's event emitter system.

Usage: Allows multiple listeners for the same event. No overwriting ‚Äî all registered callbacks run.

Syntax: page.on(eventName, callback) or page.once(eventName, callback)


------------------------------------------------------------------------------------

‚úÖ What does page.on() mean?

Think of page.on() like:

‚ÄúHey Playwright, listen to this page. If something happens, tell me!‚Äù

So this part:

page.on(...)


means:

üëâ Attach a listener to the page for some event.

‚úÖ What is 'dialog'?
'dialog'


This means:

üîî ‚ÄúI want to be notified whenever an alert box / confirm / prompt appears on this page.‚Äù

In browsers, these are called JavaScript dialogs:

alert()

confirm()

prompt()

So:

page.on('dialog', ...)


means:

‚úÖ Whenever any alert, confirm, or prompt appears ‚Üí run this code.

‚úÖ What is async (alert) => { ... }

This is an arrow function (callback function).

It means:

 ‚ÄúWhen a dialog appears, Playwright will give me that dialog object in the variable called alert.‚Äù

So:

async (alert) => {


means:

- This function runs automatically
- alert contains the popup box
- async is used because:

We use await alert.dismiss() inside it

----------------------------------------------------------------------------------------
